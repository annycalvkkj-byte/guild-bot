
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Dashboard Guilda</title>
    <style>
        :root { --bg: #2f3136; --card: #36393f; --blue: #5865f2; --red: #ed4245; --green: #3ba55c; }
        body { background: var(--bg); color: white; font-family: sans-serif; margin: 0; }
        nav { background: #202225; padding: 15px 50px; display: flex; justify-content: space-between; align-items: center; }
        .container { padding: 30px; }
        table { width: 100%; border-collapse: collapse; background: var(--card); border-radius: 8px; overflow: hidden; }
        th, td { padding: 12px 20px; text-align: left; border-bottom: 1px solid #2f3136; }
        .user-cell { display: flex; align-items: center; gap: 10px; }
        .user-cell img { width: 35px; border-radius: 50%; border: 2px solid transparent; }
        .online { border-color: var(--green) !important; }
        .status-text { font-size: 11px; color: #aaa; }
        .warn-btn { background: var(--red); color: white; border: none; padding: 5px 10px; border-radius: 3px; cursor: pointer; font-size: 11px; }
        .clear-btn { background: #747f8d; color: white; border: none; padding: 5px 10px; border-radius: 3px; cursor: pointer; font-size: 11px; }
        .nick-alert { color: var(--red); font-size: 11px; font-weight: bold; }
    </style>
</head>
<body>
    <nav>
        <h2>üõ°Ô∏è GEST√ÉO DE GUILDA</h2>
        <a href="/settings" style="color:white; text-decoration:none">‚öôÔ∏è Configura√ß√µes</a>
    </nav>
    <div class="container">
        <table>
            <thead>
                <tr>
                    <th>Membro</th>
                    <th>Nick FF (Checagem)</th>
                    <th>Status / Visto por √∫ltimo</th>
                    <th>Advert√™ncias</th>
                    <th>A√ß√µes</th>
                </tr>
            </thead>
            <tbody>
                <% members.forEach(m => { %>
                <tr>
                    <td class="user-cell">
                        <img src="<%= m.avatar %>" class="<%= m.status === 'online' ? 'online' : '' %>">
                        <div>
                            <b><%= m.name %></b><br>
                            <span class="status-text">ID: <%= m.ffId %></span>
                        </div>
                    </td>
                    <td>
                        <span style="color: #ffcc00;"><%= m.ffNick %></span>
                        <% if(m.nickMismatch) { %><br><span class="nick-alert">‚ö†Ô∏è NICK DIFERENTE NO DC</span><% } %>
                    </td>
                    <td>
                        <% if(m.status === 'online') { %><b style="color:var(--green)">‚óè Online agora</b>
                        <% } else if(m.status === 'left') { %><b style="color:var(--red)">‚ùå Saiu do Servidor</b>
                        <% } else { %>
                            <span class="status-text">Visto h√° <%= Math.floor((Date.now() - m.lastSeen)/60000) %> mins</span>
                        <% } %>
                    </td>
                    <td>
                        <span style="background:var(--red); padding:2px 8px; border-radius:10px; font-size:12px">
                            <%= m.warns %> Advs
                        </span>
                    </td>
                    <td>
                        <form action="/warn/<%= m.id %>" method="POST" style="display:inline">
                            <input type="text" name="reason" placeholder="Motivo" style="width:60px; font-size:10px">
                            <button class="warn-btn">+ Adv</button>
                        </form>
                        <form action="/clear-warns/<%= m.id %>" method="POST" style="display:inline">
                            <button class="clear-btn">Limpar</button>
                        </form>
                    </td>
                </tr>
                <% }) %>
            </tbody>
        </table>
    </div>
</body>
</html>
